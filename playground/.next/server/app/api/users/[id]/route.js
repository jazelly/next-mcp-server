"use strict";(()=>{var e={};e.id=380,e.ids=[380],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4152:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>f,patchFetch:()=>b,requestAsyncStorage:()=>g,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>x});var s={};r.r(s),r.d(s,{DELETE:()=>p,GET:()=>c,PUT:()=>l});var a=r(1444),n=r(9188),i=r(3661),o=r(2812),u=r(3038),d=r(4058);async function c(e,t){try{let{id:e}=t.params;if(!d.H9.safeParse({id:e}).success)return o.NextResponse.json({error:"Invalid user ID format",status:400},{status:400});let r=await u.ut.getById(e);if(!r)return o.NextResponse.json({error:"User not found",status:404},{status:404});return o.NextResponse.json({data:r,status:200},{status:200})}catch(e){return console.error("Error fetching user:",e),o.NextResponse.json({error:"Internal server error",status:500},{status:500})}}async function l(e,t){try{let{id:r}=t.params,s=await e.json();if(!d.H9.safeParse({id:r}).success)return o.NextResponse.json({error:"Invalid user ID format",status:400},{status:400});let a=d.yd.safeParse(s);if(!a.success)return o.NextResponse.json({error:"Invalid request data",message:a.error.message,status:400},{status:400});let n=await u.ut.update(r,a.data);if(!n)return o.NextResponse.json({error:"User not found",status:404},{status:404});return o.NextResponse.json({data:n,message:"User updated successfully",status:200},{status:200})}catch(e){return console.error("Error updating user:",e),o.NextResponse.json({error:"Internal server error",status:500},{status:500})}}async function p(e,t){try{let{id:e}=t.params;if(!d.H9.safeParse({id:e}).success)return o.NextResponse.json({error:"Invalid user ID format",status:400},{status:400});if(!await u.ut.delete(e))return o.NextResponse.json({error:"User not found",status:404},{status:404});return o.NextResponse.json({message:"User deleted successfully",status:200},{status:200})}catch(e){return console.error("Error deleting user:",e),o.NextResponse.json({error:"Internal server error",status:500},{status:500})}}let m=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/users/[id]/route",pathname:"/api/users/[id]",filename:"route",bundlePath:"app/api/users/[id]/route"},resolvedPagePath:"E:\\github\\my\\next-mcp-server\\playground\\app\\api\\users\\[id]\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:g,staticGenerationAsyncStorage:x,serverHooks:y}=m,f="/api/users/[id]/route";function b(){return(0,i.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:x})}},3038:(e,t,r)=>{r.d(t,{Up:()=>u,WN:()=>d,ut:()=>o});let s=[{id:"550e8400-e29b-41d4-a716-446655440000",name:"Admin User",email:"admin@example.com",role:"admin",createdAt:new Date("2023-01-01"),updatedAt:new Date("2023-01-01")},{id:"550e8400-e29b-41d4-a716-446655440001",name:"Test User",email:"user@example.com",role:"user",createdAt:new Date("2023-01-02"),updatedAt:new Date("2023-01-02")}],a=[{id:"550e8400-e29b-41d4-a716-446655440002",name:"Electronics",description:"Electronic devices and accessories"},{id:"550e8400-e29b-41d4-a716-446655440003",name:"Books",description:"Books and publications"}],n=[{id:"550e8400-e29b-41d4-a716-446655440004",name:"Laptop",description:"High-performance laptop",price:1299.99,stock:10,categoryId:"550e8400-e29b-41d4-a716-446655440002",createdAt:new Date("2023-01-03"),updatedAt:new Date("2023-01-03")},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Programming Book",description:"Learn programming with this book",price:29.99,stock:50,categoryId:"550e8400-e29b-41d4-a716-446655440003",createdAt:new Date("2023-01-04"),updatedAt:new Date("2023-01-04")}],i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),o={getAll:async(e=1,t=10)=>{let r=(e-1)*t;return{users:s.slice(r,r+t),total:s.length}},getById:async e=>s.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e,role:e.role||"user",createdAt:new Date,updatedAt:new Date};return s.push(t),t},update:async(e,t)=>{let r=s.findIndex(t=>t.id===e);if(-1===r)return null;let a={...s[r],...t,updatedAt:new Date};return s[r]=a,a},delete:async e=>{let t=s.findIndex(t=>t.id===e);return -1!==t&&(s.splice(t,1),!0)},authenticate:async e=>s.find(t=>t.email===e.email)||null},u={getAll:async(e=1,t=10)=>{let r=(e-1)*t;return{products:n.slice(r,r+t),total:n.length}},getById:async e=>n.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e,createdAt:new Date,updatedAt:new Date};return n.push(t),t},update:async(e,t)=>{let r=n.findIndex(t=>t.id===e);if(-1===r)return null;let s={...n[r],...t,updatedAt:new Date};return n[r]=s,s},delete:async e=>{let t=n.findIndex(t=>t.id===e);return -1!==t&&(n.splice(t,1),!0)},getByCategoryId:async e=>n.filter(t=>t.categoryId===e)},d={getAll:async()=>a,getById:async e=>a.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e};return a.push(t),t}}},4058:(e,t,r)=>{r.d(t,{H9:()=>i,LG:()=>u,hq:()=>o,i2:()=>a,kC:()=>l,mp:()=>d,o$:()=>c,yd:()=>n});var s=r(1364);let a=s.z.object({name:s.z.string().min(2,"Name must be at least 2 characters"),email:s.z.string().email("Invalid email address"),password:s.z.string().min(8,"Password must be at least 8 characters"),role:s.z.enum(["admin","user","guest"]).optional()}),n=s.z.object({name:s.z.string().min(2,"Name must be at least 2 characters").optional(),email:s.z.string().email("Invalid email address").optional(),role:s.z.enum(["admin","user","guest"]).optional()}),i=s.z.object({id:s.z.string().uuid("Invalid user ID format")}),o=s.z.object({name:s.z.string().min(1,"Product name is required"),description:s.z.string().optional(),price:s.z.number().positive("Price must be a positive number"),stock:s.z.number().nonnegative("Stock cannot be negative"),categoryId:s.z.string().uuid("Invalid category ID format")}),u=s.z.object({name:s.z.string().min(1,"Product name is required").optional(),description:s.z.string().optional(),price:s.z.number().positive("Price must be a positive number").optional(),stock:s.z.number().nonnegative("Stock cannot be negative").optional(),categoryId:s.z.string().uuid("Invalid category ID format").optional()}),d=s.z.object({id:s.z.string().uuid("Invalid product ID format")}),c=s.z.object({name:s.z.string().min(1,"Category name is required"),description:s.z.string().optional()});s.z.object({email:s.z.string().email("Invalid email address"),password:s.z.string().min(8,"Password must be at least 8 characters")}).extend({name:s.z.string().min(2,"Name must be at least 2 characters")}),s.z.object({id:s.z.string(),type:s.z.enum(["payment_intent.succeeded","payment_intent.failed","customer.subscription.created"]),data:s.z.object({object:s.z.object({id:s.z.string(),amount:s.z.number().optional(),status:s.z.string().optional(),customer:s.z.string().optional()})})});let l=s.z.object({page:s.z.coerce.number().int().positive().default(1),limit:s.z.coerce.number().int().positive().default(10)})}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[732,605],()=>r(4152));module.exports=s})();