"use strict";(()=>{var e={};e.id=745,e.ids=[745],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5405:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>y,patchFetch:()=>b,requestAsyncStorage:()=>m,routeModule:()=>p,serverHooks:()=>x,staticGenerationAsyncStorage:()=>g});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>l});var n=a(1444),s=a(9188),i=a(3661),o=a(2812),d=a(3038),c=a(4058);async function u(e){try{let e=await d.WN.getAll();return o.NextResponse.json({data:e,status:200},{status:200})}catch(e){return console.error("Error fetching categories:",e),o.NextResponse.json({error:"Internal server error",status:500},{status:500})}}async function l(e){try{let t=await e.json(),a=c.o$.safeParse(t);if(!a.success)return o.NextResponse.json({error:"Invalid request data",message:a.error.message,status:400},{status:400});if((await d.WN.getAll()).some(e=>e.name.toLowerCase()===t.name.toLowerCase()))return o.NextResponse.json({error:"Category name already exists",status:409},{status:409});let r=await d.WN.create(a.data);return o.NextResponse.json({data:r,message:"Category created successfully",status:201},{status:201})}catch(e){return console.error("Error creating category:",e),o.NextResponse.json({error:"Internal server error",status:500},{status:500})}}let p=new n.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/products/categories/route",pathname:"/api/products/categories",filename:"route",bundlePath:"app/api/products/categories/route"},resolvedPagePath:"E:\\github\\my\\next-mcp-server\\playground\\app\\api\\products\\categories\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:m,staticGenerationAsyncStorage:g,serverHooks:x}=p,y="/api/products/categories/route";function b(){return(0,i.patchFetch)({serverHooks:x,staticGenerationAsyncStorage:g})}},3038:(e,t,a)=>{a.d(t,{Up:()=>d,WN:()=>c,ut:()=>o});let r=[{id:"550e8400-e29b-41d4-a716-446655440000",name:"Admin User",email:"admin@example.com",role:"admin",createdAt:new Date("2023-01-01"),updatedAt:new Date("2023-01-01")},{id:"550e8400-e29b-41d4-a716-446655440001",name:"Test User",email:"user@example.com",role:"user",createdAt:new Date("2023-01-02"),updatedAt:new Date("2023-01-02")}],n=[{id:"550e8400-e29b-41d4-a716-446655440002",name:"Electronics",description:"Electronic devices and accessories"},{id:"550e8400-e29b-41d4-a716-446655440003",name:"Books",description:"Books and publications"}],s=[{id:"550e8400-e29b-41d4-a716-446655440004",name:"Laptop",description:"High-performance laptop",price:1299.99,stock:10,categoryId:"550e8400-e29b-41d4-a716-446655440002",createdAt:new Date("2023-01-03"),updatedAt:new Date("2023-01-03")},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Programming Book",description:"Learn programming with this book",price:29.99,stock:50,categoryId:"550e8400-e29b-41d4-a716-446655440003",createdAt:new Date("2023-01-04"),updatedAt:new Date("2023-01-04")}],i=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}),o={getAll:async(e=1,t=10)=>{let a=(e-1)*t;return{users:r.slice(a,a+t),total:r.length}},getById:async e=>r.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e,role:e.role||"user",createdAt:new Date,updatedAt:new Date};return r.push(t),t},update:async(e,t)=>{let a=r.findIndex(t=>t.id===e);if(-1===a)return null;let n={...r[a],...t,updatedAt:new Date};return r[a]=n,n},delete:async e=>{let t=r.findIndex(t=>t.id===e);return -1!==t&&(r.splice(t,1),!0)},authenticate:async e=>r.find(t=>t.email===e.email)||null},d={getAll:async(e=1,t=10)=>{let a=(e-1)*t;return{products:s.slice(a,a+t),total:s.length}},getById:async e=>s.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e,createdAt:new Date,updatedAt:new Date};return s.push(t),t},update:async(e,t)=>{let a=s.findIndex(t=>t.id===e);if(-1===a)return null;let r={...s[a],...t,updatedAt:new Date};return s[a]=r,r},delete:async e=>{let t=s.findIndex(t=>t.id===e);return -1!==t&&(s.splice(t,1),!0)},getByCategoryId:async e=>s.filter(t=>t.categoryId===e)},c={getAll:async()=>n,getById:async e=>n.find(t=>t.id===e)||null,create:async e=>{let t={id:i(),...e};return n.push(t),t}}},4058:(e,t,a)=>{a.d(t,{H9:()=>i,LG:()=>d,hq:()=>o,i2:()=>n,kC:()=>l,mp:()=>c,o$:()=>u,yd:()=>s});var r=a(1364);let n=r.z.object({name:r.z.string().min(2,"Name must be at least 2 characters"),email:r.z.string().email("Invalid email address"),password:r.z.string().min(8,"Password must be at least 8 characters"),role:r.z.enum(["admin","user","guest"]).optional()}),s=r.z.object({name:r.z.string().min(2,"Name must be at least 2 characters").optional(),email:r.z.string().email("Invalid email address").optional(),role:r.z.enum(["admin","user","guest"]).optional()}),i=r.z.object({id:r.z.string().uuid("Invalid user ID format")}),o=r.z.object({name:r.z.string().min(1,"Product name is required"),description:r.z.string().optional(),price:r.z.number().positive("Price must be a positive number"),stock:r.z.number().nonnegative("Stock cannot be negative"),categoryId:r.z.string().uuid("Invalid category ID format")}),d=r.z.object({name:r.z.string().min(1,"Product name is required").optional(),description:r.z.string().optional(),price:r.z.number().positive("Price must be a positive number").optional(),stock:r.z.number().nonnegative("Stock cannot be negative").optional(),categoryId:r.z.string().uuid("Invalid category ID format").optional()}),c=r.z.object({id:r.z.string().uuid("Invalid product ID format")}),u=r.z.object({name:r.z.string().min(1,"Category name is required"),description:r.z.string().optional()});r.z.object({email:r.z.string().email("Invalid email address"),password:r.z.string().min(8,"Password must be at least 8 characters")}).extend({name:r.z.string().min(2,"Name must be at least 2 characters")}),r.z.object({id:r.z.string(),type:r.z.enum(["payment_intent.succeeded","payment_intent.failed","customer.subscription.created"]),data:r.z.object({object:r.z.object({id:r.z.string(),amount:r.z.number().optional(),status:r.z.string().optional(),customer:r.z.string().optional()})})});let l=r.z.object({page:r.z.coerce.number().int().positive().default(1),limit:r.z.coerce.number().int().positive().default(10)})}};var t=require("../../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[732,605],()=>a(5405));module.exports=r})();